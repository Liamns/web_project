{% extends 'base.html' %}
{% load custom_tags %}

<script src="https://use.fontawesome.com/releases/v6.1.0/js/all.js" crossorigin="anonymous"></script>

{% block contents %}
  <div class="container">
    <div class="row mt-5">
      <div class="col-md-3 col-sm-6">
        <a href="{% url 'home' %}" class="btn btn-light">Back to Home</a>
      </div>
    </div>

    <div class="row justify-content-center mt-5">
      <div class="card shadow-sm col-md-8 col-sm-12 border-bottom px-5 pt-3">
        <div class="text-center">

          <img src="{{user.profile.profile_img.url}}" class="rounded-circle" width="100" height="100"/>
          <h3 class="py-4">{{ user.name }}

            <span>
              <a href="#" class="edit-color">
                <i class="far fa-edit"></i>
              </a>
            </span>
            <h3 class="py-4">{{ user.nickname }}
              <span>
                <a href="#" class="edit-color">
                  <i class="far fa-edit"></i>
                </a>
              </span>
            </h3>
          </h3>
        </div>
        <div class="mb-3">
          <a href="#" class="post-link">Followers:</a>
        </div>
      </div>
    </div>
    <div class="row justify-content-center mt-5">
      <div class="card shadow-sm col-md-8 col-sm-12 border-bottom px-5 py-3">
        <div class="text-center">
          <h3>to DM</h3>
          <p class="nav-item">
            <a href="{% url 'inbox' %}" class="ml-6 nav-link btn btn btn-signature2 rounded active">
              <i class="fa-solid fa-paper-plane"></i>
            </a>
          </p>
          <p class="nav-item">
            {% show_notifications %}
          </p>
        </div>
      </div>
    </div>

    <div class="row justify-content-center mt-5">
      <div class="card shadow-sm col-md-8 col-sm-12 border-bottom px-5 py-3">

        {% if user.address %}
          <p>address:
            {{ user.address }}</p>
        {% endif %}

        {% if user.birth %}
          <p>Birthday:
            {{ user.birth }}</p>
        {% endif %}

        {% if profile.participations_cnt %}
          <p>participations_cnt:
            {{ profile.participations_cnt }}</p>
        {% endif %}

        {% if user == request.user %}
        {% else %}
          {% if is_following %}
            <form method="POST" action="#">
              {% csrf_token %}
              <button class="btn btn-outline-danger" type="submit">Unfollow</button>
            </form>
          {% else %}
            <form method="POST" action="#">
              {% csrf_token %}
              <button class="btn btn-outline-success" type="submit">Follow</button>
            </form>
          {% endif %}
        {% endif %}
      </div>
    </div>

    <!-- {% for post in posts %} <div class="row justify-content-center mt-5"> <div class="col-md-8 col-sm-12 border-bottom"> <div> <a href="{% url 'profile' post.author.profile.pk %}"> <img class="round-circle post-img" height="30" width="30" src="{{ post.author.profile.picture.url }}"/> </a> <p class="post-text"> <a class="text-primary post-link" href="{% url 'profile' post.author.profile.pk %}">@{{ post.author }}</a> {{ post.created_on }} </p> </div> <div class="position-relative"> {% if post.image %} <img src="{{ post.image.url }}" class="post-image"/> {% endif %} <p>{{ post.body }}</p> <a href="{% url 'post-detail' post.pk %}" class="stretched-link"></a> </div> <div class="d-flex flex-row"> <form method="POST" action="{% url 'like' post.pk %}"> {% csrf_token %} <input type="hidden" name="next" value="{{ request.path }}"> <button class="remove-default-btn" type="submit"> <i class="far fa-thumbs-up"> <span>{{ post.likes.all.count }}</span></i> </button> </form> <form method="POST" action="{% url 'dislike' post.pk %}"> {% csrf_token %} <input type="hidden" name="next" value="{{ request.path }}"> <button class="remove-default-btn" type="submit"> <i class="far fa-thumbs-down"> <span>{{ post.dislikes.all.count }}</span></i> </button> </form>-->
  </div>
</div>
</div>
{% endfor %}
</div>
{% endblock contents %}
